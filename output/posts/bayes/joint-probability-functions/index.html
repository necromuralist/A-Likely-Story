<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
<head>
<meta charset="utf-8">
<meta content="Looking at Joint Probability Functions." name="description">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Joint Probability Functions | A Likely Story</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<meta content="Nikola (getnikola.com)" name="generator">
<link href="../../../rss.xml" rel="alternate" title="RSS" type="application/rss+xml">
<link href="https://necromuralist.github.io/A-Likely-Story/posts/bayes/joint-probability-functions/" rel="canonical"><!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]-->
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>
<meta content="Cloistered Monkey" name="author">
<link href="../the-pox-probabilities/" rel="prev" title="The Pox Probabilities" type="text/html">
<meta content="A Likely Story" property="og:site_name">
<meta content="Joint Probability Functions" property="og:title">
<meta content="https://necromuralist.github.io/A-Likely-Story/posts/bayes/joint-probability-functions/" property="og:url">
<meta content="Looking at Joint Probability Functions." property="og:description">
<meta content="article" property="og:type">
<meta content="2019-06-12T12:33:59-07:00" property="article:published_time">
<meta content="bayes" property="article:tag">
<meta content="probability" property="article:tag">
</head>
<body>
<a class="sr-only sr-only-focusable" href="#content">Skip to main content</a> <!-- Menubar -->
<nav class="navbar navbar-expand-md static-top mb-4 navbar-light bg-light">
<div class="container"><!-- This keeps the margins nice -->
 <a class="navbar-brand" href="https://necromuralist.github.io/A-Likely-Story/"><span id="blog-title">A Likely Story</span></a> <button aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#bs-navbar" data-toggle="collapse" type="button"><span class="navbar-toggler-icon"></span></button>
<div class="collapse navbar-collapse" id="bs-navbar">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="../../../archive.html">Archive</a></li>
<li class="nav-item"><a class="nav-link" href="../../../categories/">Tags</a></li>
<li class="nav-item"><a class="nav-link" href="../../../rss.xml">RSS feed</a></li>
<li class="nav-item dropdown"><a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Pages</a>
<div class="dropdown-menu"><a class="dropdown-item" href="https://necromuralist.github.io/">Cloistered Monkey</a></div>
</li>
</ul>
<!-- DuckDuckGo custom search -->
<form action="https://duckduckgo.com/" class="navbar-form pull-left" id="search" method="get" name="search"><input name="sites" type="hidden" value="https://necromuralist.github.io/A-Likely-Story/"><input name="k8" type="hidden" value="#444444"><input name="k9" type="hidden" value="#D51920"><input name="kt" type="hidden" value="h"><input class="span2" maxlength="255" name="q" placeholder="Search…" type="text"><input style="visibility: hidden;display:none" type="submit" value="DuckDuckGo Search"></form>
<!-- End of custom search -->
<ul class="navbar-nav navbar-right">
<li class="nav-item"><a class="nav-link" href="index.org" id="sourcelink">Source</a></li>
</ul>
</div>
<!-- /.navbar-collapse --></div>
<!-- /.container --></nav>
<!-- End of Menubar -->
<div class="container" id="content" role="main">
<div class="body-content"><!--Body content-->
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
<header>
<h1 class="p-name entry-title" itemprop="headline name"><a class="u-url" href=".">Joint Probability Functions</a></h1>
<div class="metadata">
<p class="byline author vcard"><span class="byline-name fn" itemprop="author">Cloistered Monkey</span></p>
<p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2019-06-12T12:33:59-07:00" itemprop="datePublished" title="2019-06-12 12:33">2019-06-12 12:33</time></a></p>
<p class="sourceline"><a class="sourcelink" href="index.org">Source</a></p>
</div>
</header>
<div class="e-content entry-content" itemprop="articleBody text">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orge8eec7d">Beginning</a>
<ul>
<li><a href="#org338678d">Imports</a></li>
<li><a href="#org41056b6">The Plotting</a></li>
</ul>
</li>
<li><a href="#org45c3634">Middle</a>
<ul>
<li><a href="#org2978a61">The Joint Probability Function</a></li>
<li><a href="#org57521b9">Visualizing It</a></li>
</ul>
</li>
<li><a href="#orge113dfa">End</a>
<ul>
<li><a href="#org826855a">Source</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="outline-2" id="outline-container-orge8eec7d">
<h2 id="orge8eec7d">Beginning</h2>
<div class="outline-text-2" id="text-orge8eec7d">
<p>This looks at the case where we have more than one input and more than one possible output value. This assumes the possible outputs are discrete.</p>
</div>
<div class="outline-3" id="outline-container-org338678d">
<h3 id="org338678d">Imports</h3>
<div class="outline-text-3" id="text-org338678d"></div>
<div class="outline-4" id="outline-container-org4e3065f">
<h4 id="org4e3065f">Python</h4>
<div class="outline-text-4" id="text-org4e3065f">
<div class="highlight">
<pre><span></span>from argparse import Namespace
from functools import partial
from pathlib import Path
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orga78b183">
<h4 id="orga78b183">PyPi</h4>
<div class="outline-text-4" id="text-orga78b183">
<div class="highlight">
<pre><span></span>from bokeh.models import HoverTool
import holoviews
import pandas
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-orgbe68c05">
<h4 id="orgbe68c05">My Stuff</h4>
<div class="outline-text-4" id="text-orgbe68c05">
<div class="highlight">
<pre><span></span>from graeae.visualization import EmbedHoloview
</pre></div>
</div>
</div>
</div>
<div class="outline-3" id="outline-container-org41056b6">
<h3 id="org41056b6">The Plotting</h3>
<div class="outline-text-3" id="text-org41056b6"></div>
<div class="outline-4" id="outline-container-org7035cd3">
<h4 id="org7035cd3">The Holoviews Embedder</h4>
<div class="outline-text-4" id="text-org7035cd3">
<div class="highlight">
<pre><span></span>SLUG = "joint-probability-functions"
output = Path("../../files/posts/bayes/")/SLUG
holoviews.extension("bokeh")
Embed = partial(EmbedHoloview, folder_path = output)
</pre></div>
</div>
</div>
<div class="outline-4" id="outline-container-org59583c3">
<h4 id="org59583c3">The Plot Settings</h4>
<div class="outline-text-4" id="text-org59583c3">
<div class="highlight">
<pre><span></span>Plot = Namespace(
    width=800,
    height=800,
)
</pre></div>
</div>
</div>
</div>
</div>
<div class="outline-2" id="outline-container-org45c3634">
<h2 id="org45c3634">Middle</h2>
<div class="outline-text-2" id="text-org45c3634"></div>
<div class="outline-3" id="outline-container-org2978a61">
<h3 id="org2978a61">The Joint Probability Function</h3>
<div class="outline-text-3" id="text-org2978a61">
<p>The <b>Joint Probability Function</b> is the distribution of input and output probabilities for each joint probability. To find the probabilities we need to take measurement counts. If we had two types of data and three hypotheses we could write out our counts in a table like this.</p>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-left">
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right"></colgroup>
<thead>
<tr>
<th class="org-left" scope="col">Data</th>
<th class="org-right" scope="col">\(\theta_1\)</th>
<th class="org-right" scope="col">\(\theta_2\)</th>
<th class="org-right" scope="col">\(\theta_3\)</th>
<th class="org-right" scope="col">Sum</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">\(x_1\)</td>
<td class="org-right">2</td>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-right">3</td>
</tr>
<tr>
<td class="org-left">\(x_2\)</td>
<td class="org-right">1</td>
<td class="org-right">4</td>
<td class="org-right">2</td>
<td class="org-right">7</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Sum</td>
<td class="org-right">3</td>
<td class="org-right">4</td>
<td class="org-right">3</td>
<td class="org-right">10</td>
</tr>
</tbody>
</table>
<p>The intersection of data and hypothesis is the count we got for our joint probability calculation. To get the actual joint probability we divide the numbers by the total count.</p>
<table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups">
<colgroup>
<col class="org-left">
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right"></colgroup>
<thead>
<tr>
<th class="org-left" scope="col">Data</th>
<th class="org-right" scope="col">\(\theta_1\)</th>
<th class="org-right" scope="col">\(\theta_2\)</th>
<th class="org-right" scope="col">\(\theta_3\)</th>
<th class="org-right" scope="col">Sum</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">\(x_1\)</td>
<td class="org-right">0.2</td>
<td class="org-right">0</td>
<td class="org-right">0.1</td>
<td class="org-right">0.3</td>
</tr>
<tr>
<td class="org-left">\(x_2\)</td>
<td class="org-right">0.1</td>
<td class="org-right">0.4</td>
<td class="org-right">0.2</td>
<td class="org-right">0.7</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Sum</td>
<td class="org-right">0.3</td>
<td class="org-right">0.4</td>
<td class="org-right">0.3</td>
<td class="org-right">1</td>
</tr>
</tbody>
</table>
<p>So, for instance, the joint probability \(p(x_2, \theta_2)\) is 0.1. The summary values at the bottom are the <i>marginal likelihood of the hypotheses</i> - \(p(\theta_2) = 0.4\) - and the summary values on the far right are the <i>marginal likelihood of the data</i> - \(p(x_2) = 0.7\).</p>
</div>
</div>
<div class="outline-3" id="outline-container-org57521b9">
<h3 id="org57521b9">Visualizing It</h3>
<div class="outline-text-3" id="text-org57521b9">
<div class="highlight">
<pre><span></span>data = pandas.DataFrame([
    [2, 1],
    [0, 4],
    [1, 2]
], columns=["x_1", "x_2"])
data["theta_likelihood"] = data.x_1 + data.x_2
data = data.reset_index().rename(columns={"index": "theta"})
</pre></div>
<div class="highlight">
<pre><span></span>height = Plot.height - 300
scatter_1 = holoviews.Scatter(data, vdims=["x_1"], kdims=["theta"]).opts(
    jitter=0.1,
    size=holoviews.dim("x_1")*10 + 5,
).opts(
    padding=0.5,
    height=height,
    width=Plot.width,
    tools=["hover"],
    xticks=3,
    yticks=3,
)

scatter_2 = holoviews.Scatter(data, vdims=["x_2"], kdims=["theta"]).opts(
    jitter=0.1,
    size=holoviews.dim("x_2")*10 + 5,
).opts(
    padding=0.5,
    height=height,
    width=Plot.width,
    tools=["hover"],
    xticks=3,
    yticks=3,
)

scattered = (scatter_1 * scatter_2).opts(ylabel="X")
spikes = holoviews.Spikes(data, "theta", "theta_likelihood").opts(
    width=Plot.width,
    xaxis=None,
    height=200,
)
plot = (spikes + scattered).cols(1).opts(title="Theta vs x1")
Embed(plot=plot, file_name="theta_vs_x1_toy")()
</pre></div>
<object data="theta_vs_x1_toy.html" height="800" style="width:100%" type="text/html">
<p>Figure Missing</p>
</object></div>
</div>
</div>
<div class="outline-2" id="outline-container-orge113dfa">
<h2 id="orge113dfa">End</h2>
<div class="outline-text-2" id="text-orge113dfa"></div>
<div class="outline-3" id="outline-container-org826855a">
<h3 id="org826855a">Source</h3>
<div class="outline-text-3" id="text-org826855a">
<ol class="org-ol">
<li>Stone JV. Bayes’ rule: a tutorial introduction to Bayesian analysis. First edition, third printing [with corrections]. Sheffield: Sebtel Press; 2014. 170 p.</li>
</ol>
</div>
</div>
</div>
</div>
<aside class="postpromonav">
<nav>
<ul class="tags" itemprop="keywords">
<li><a class="tag p-category" href="../../../categories/bayes/" rel="tag">bayes</a></li>
<li><a class="tag p-category" href="../../../categories/probability/" rel="tag">probability</a></li>
</ul>
<ul class="pager hidden-print">
<li class="previous"><a href="../the-pox-probabilities/" rel="prev" title="The Pox Probabilities">Previous post</a></li>
</ul>
</nav>
</aside>
</article>
<!--End of body content-->
<footer id="footer">Contents © 2019 <a href="mailto:necromuralist@protonmail.com">Cloistered Monkey</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a></footer>
</div>
</div>
<script src="../../../assets/js/all-nocdn.js"></script>
<script>

    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
</script>
</body>
</html>
